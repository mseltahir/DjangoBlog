{% extends "home/base.html" %}
{% load crispy_forms_tags %}
{% block content %}
<div class="blog-article detail-lh">
    <h1>{{ post.title }}</h1>
    <small>
        <a href="#">{{ post.author }}</a> |&nbsp;
        {{ post.created_on.date }}
    </small>
    <p class="container">{{ post.content |linebreaks }}</p>
    <a href="{% url 'blog:delete_post' post.pk %}">
        <button class="btn btn-danger">
            Delete
        </button>
    </a>
    <hr>
    <h4>Comments</h4>
    {% for comment in post.comments.all %}
    <div class="card" style="width: 36rem;">
        <div class="card-body">
            <h5 class="card-title">by <b>{{ comment.author }} </b>
                <span class="card-title mb-2 text-muted" style="font-size: 70%"><i>on
                        {{comment.created_on.date }}&nbsp;</i> </span></h5>
            <p class="card-text">{{comment.comment}}</p>
        </div>
    </div>
    {% empty %}
    <p style="font-size: 100%">(No comments yet)</p>
    {% endfor %}
    <hr>
    <h5>Leave a comment:</h5>
    <form action="/blog/{{ post.pk }}" method="post" class="container col-md-5 offset-md-0 px-0 mb-5">
        {% csrf_token %}
        <div class="form-group">
            {{ form.author|as_crispy_field }}
        </div>
        <div class="form-group">
            {{ form.comment|as_crispy_field }}
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
</div>
{% endblock %}